<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <link rel="stylesheet" href="css/regester.css">
</head>
<body>
<div class="bg">
    <div class="re">
        <div class="regest">
            <p>注册</p>
            <form action="RegisterServlet" method="post" name="form_register">
                <div class="userName" >
                    <span>用户名：</span>
                    <input type="text" placeholder="请输入用户名" id="username" name="username">
                </div>
                <div class="password" >
                    <span>密码：</span>
                    <input type="text" placeholder="请输入登录密码" id="password" name="password">
                </div>
                <div class="password2" >
                    <span>确认密码：</span>
                    <input type="text" placeholder="请输入登录密码" id="repassword" name="repassword">
                </div>
            </form>
            <button type="button" onclick="register_submit()">注册</button>
            <button type="button" onclick="window.location='login.html'">登录</button>
        </div>
    </div>

</div>

<script>
    /**
     * 注册的输入判断和信息提交
     * @returns {boolean}
     */
    function register_submit() {
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;
        var repassword = document.getElementById("repassword").value;

        // 正则
        const reg = new RegExp(/^(?![^a-zA-Z]+$)(?!\D+$)/);
        if(username == "" || username == null){
            alert("登录名不能为空！");
            return false;
        }
        else if(password == "" || password == null){
            alert("密码不能为空！");
            return false;
        }
        else if(password.length < 6){
            alert("密码长度必须大于等于6位！");
            return false;
        }
        else if(!reg.test(password)){
            alert("密码至少包含一位数字和一位字母！");
            return false;
        }
        else if(repassword !== password){
            alert("确认密码必须和密码保持一致！");
            return false;
        }
        else {
            document.form_register.submit();
            return true;
        }
    }
</script>
</body>
</html>